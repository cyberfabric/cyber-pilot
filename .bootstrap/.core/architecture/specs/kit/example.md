---
cypilot: true
type: spec
name: Example Specification
version: 1.0
purpose: Define the format, generation algorithm, and usage of generated example.md files
drivers:
  - cpt-cypilot-fr-core-blueprint
  - cpt-cypilot-component-blueprint-processor
---

# Example Specification (example.md)

---

## Table of Contents

- [Example Specification (example.md)](#example-specification-examplemd)
  - [Overview](#overview)
  - [Location](#location)
  - [Source Markers](#source-markers)
  - [Generation Algorithm](#generation-algorithm)
  - [File Format](#file-format)
  - [Example](#example)
  - [Usage](#usage)
  - [Error Handling](#error-handling)

---

## Overview

`example.md` is a **generated** output file that provides a concrete, complete example artifact for a given kind. It is produced by the Blueprint Processor by assembling heading examples from `@cpt:heading` markers and body content from `@cpt:example` markers into a realistic sample document.

**Key properties**:
- Generated from blueprint — do not edit manually
- Contains a realistic, complete example of an artifact
- Heading text comes from `@cpt:heading` `examples` arrays (first entry)
- Body content comes from `@cpt:example` ` ```markdown ` blocks
- Sections without `@cpt:example` content are omitted
- Used by generate workflows as style and content reference
- Regenerated by `cypilot generate-resources`

---

## Location

**Per-artifact**: `{cypilot_path}/config/kits/<slug>/artifacts/<KIND>/example.md`

---

## Source Markers

| Marker | Role |
|--------|------|
| `@cpt:heading` | Provides heading text via the `examples` array (first entry used) |
| `@cpt:example` | Provides body content for the nearest preceding `@cpt:heading` |

See [blueprint.md spec](blueprint.md) for full marker reference.

---

## Generation Algorithm

1. Walk all `@cpt:heading` blocks in order.
2. For each heading:
   a. If the heading has an `examples` array, use the first entry as heading text.
   b. If the heading has no `examples` array, skip it.
3. For each heading that was emitted:
   a. Check for a following `@cpt:example` block (associated with the nearest preceding `@cpt:heading`).
   b. If found, append the ` ```markdown ` block content verbatim after the heading.
   c. If no `@cpt:example` exists for this heading, emit the heading only (no body).
4. Sections where both `examples` array is missing AND no `@cpt:example` exists are omitted entirely.

**Determinism guarantee**: same blueprint → identical `example.md` (byte-for-byte).

---

## File Format

A valid `example.md` is a pure Markdown file that looks like a real artifact:

```markdown
# PRD — Overwork Alert

## 1. Overview

### 1.1 Purpose

Overwork Alert is a system that monitors employee work hours across the organization
and sends automated alerts when individuals exceed configurable weekly thresholds.
The system integrates with existing time tracking tools and provides real-time
dashboards for management oversight.

### 1.2 Background / Problem Statement

Currently, managers rely on manual timesheet reviews to identify employees at risk of
burnout. This process is error-prone, delayed by up to two weeks, and provides no
real-time visibility. Several incidents of employee burnout in Q3 2025 were only
detected after the fact, resulting in extended medical leave and project delays.

### 1.3 Goals (Business Outcomes)

- Reduce burnout incidents by 60% within 6 months of deployment
- Provide real-time alerts within 1 hour of threshold breach
- Achieve 90% manager adoption within first quarter
```

**Rules**:
- Heading text comes from the first entry in `@cpt:heading.examples`
- Body content is verbatim from `@cpt:example` ` ```markdown ` blocks
- No `@cpt:` markers or metadata in the output
- Sections are ordered by heading definition order in the blueprint

---

## Example

Given these blueprint markers:

```toml
# @cpt:heading
id = "prd-h1-title"
level = 1
template = "PRD — {Title of product}"
examples = ["# PRD — Overwork Alert"]
```

```markdown
# @cpt:example
Overwork Alert is a system that monitors employee work hours...
```

Generated `example.md` includes:

```markdown
# PRD — Overwork Alert

Overwork Alert is a system that monitors employee work hours...
```

---

## Usage

- **Generate workflows**: load `example.md` as style and content reference when creating a new artifact
- **Analyze workflows**: compare artifact content style against `example.md` for consistency guidance
- **Agent context**: agents use `example.md` to understand the expected tone, detail level, and format

---

## Error Handling

| Error | Cause | Resolution |
|-------|-------|------------|
| `EXAMPLE_NO_CONTENT` | No `@cpt:heading` has `examples` array and no `@cpt:example` blocks exist | Add `examples` arrays to headings or `@cpt:example` blocks to blueprint |
